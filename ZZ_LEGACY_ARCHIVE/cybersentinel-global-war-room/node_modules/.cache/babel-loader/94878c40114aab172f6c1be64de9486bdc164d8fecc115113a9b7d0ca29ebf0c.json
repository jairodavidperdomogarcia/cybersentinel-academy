{"ast":null,"code":"import _objectSpread from\"J:/CyberSentinel-AI-Academy/cybersentinel-global-war-room/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Shield,Activity,Power,Skull,AlertTriangle,Lock}from'lucide-react';import worldMapBg from'../../assets/world-map-bg.png';import'./GlobalWarRoom.css';// Componente Visual de Motor de Supervivencia (Holograma)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SurvivalEngineVisual=_ref=>{let{isGlobalCrisis}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"globe-wrapper \".concat(isGlobalCrisis?'crisis-active':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"globe-core\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orbit-ring ring-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orbit-ring ring-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orbit-ring ring-3\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',textAlign:'center',zIndex:10,textShadow:'0 0 10px black'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'3rem',fontWeight:'bold',color:isGlobalCrisis?'#ef4444':'#0ea5e9'},children:isGlobalCrisis?'CRITICAL':'OPTIMAL'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',letterSpacing:'2px',opacity:0.8},children:\"SURVIVAL ENGINE STATUS\"})]})]});};const GlobalWarRoom=_ref2=>{let{onExit}=_ref2;const[defconLevel,setDefconLevel]=useState(5);// 5=Normal, 1=Nuclear\nconst[scenario,setScenario]=useState('MONITORING');// MONITORING, BLACK_SKY, EMP_OMEGA, SURVIVAL_IV\n// Efectos visuales derivados\nconst isBlackSky=scenario==='BLACK_SKY';const isOmega=scenario==='EMP_OMEGA';const isSurvivalIV=scenario==='SURVIVAL_IV';// Determine container class based on mode\nconst getContainerClass=()=>{if(isBlackSky)return'war-room-container mode-black-sky scanlines';if(isOmega)return'war-room-container mode-omega scanlines';if(isSurvivalIV)return'war-room-container mode-survival scanlines';return'war-room-container scanlines';};// Simulación de datos globales\nconst[gridStatus,setGridStatus]=useState(100);const[commsIntegrity,setCommsIntegrity]=useState(100);const[globalPanic,setGlobalPanic]=useState(12);// Nuevas métricas para Emulator IV\nconst[survivalMetrics,setSurvivalMetrics]=useState({agua:98,energia:96,transporte:88,defensa:92});// Estados de Regiones para visualización detallada\nconst[regions,setRegions]=useState([{id:'NA',name:'NORTH AMERICA',status:'ONLINE',x:25,y:30},{id:'SA',name:'SOUTH AMERICA',status:'ONLINE',x:35,y:70},{id:'EU',name:'EUROPE',status:'ONLINE',x:52,y:25},{id:'AF',name:'AFRICA',status:'ONLINE',x:50,y:55},{id:'AS',name:'ASIA',status:'ONLINE',x:75,y:35},{id:'OC',name:'OCEANIA',status:'ONLINE',x:85,y:75},{id:'AN',name:'ANTARCTICA',status:'ONLINE',x:50,y:90}]);useEffect(()=>{let interval;if(isBlackSky){// Secuencia de apagón en cascada (Black Sky)\nlet failureStep=0;interval=setInterval(()=>{setRegions(prev=>prev.map((r,i)=>{// Apagar una región cada 2 segundos\nif(i<=failureStep)return _objectSpread(_objectSpread({},r),{},{status:'OFFLINE'});return r;}));failureStep++;setGridStatus(prev=>Math.max(0,prev-15));// Caída rápida\nsetCommsIntegrity(prev=>Math.max(0,prev-5));setGlobalPanic(prev=>Math.min(100,prev+10));// Pánico sube rápido\n},1500);}else if(isOmega){// Fallo inmediato y corrupción (Omega)\nsetRegions(prev=>prev.map(r=>_objectSpread(_objectSpread({},r),{},{status:'CORRUPTED'})));setGridStatus(0);setCommsIntegrity(0);setGlobalPanic(100);}else if(isSurvivalIV){// Modo Supervivencia: Degradación de métricas específicas\ninterval=setInterval(()=>{setSurvivalMetrics(prev=>({agua:Math.max(0,prev.agua-(Math.random()*5+2)),energia:Math.max(0,prev.energia-(Math.random()*8+3)),transporte:Math.max(0,prev.transporte-(Math.random()*6+2)),defensa:Math.max(0,prev.defensa-(Math.random()*4+1))}));setGlobalPanic(prev=>Math.min(100,prev+5));},800);}else{// Recovery\nsetRegions(prev=>prev.map(r=>_objectSpread(_objectSpread({},r),{},{status:'ONLINE'})));setGridStatus(prev=>Math.min(100,prev+5));setCommsIntegrity(prev=>Math.min(100,prev+5));setGlobalPanic(prev=>Math.max(12,prev-2));setSurvivalMetrics({agua:98,energia:96,transporte:88,defensa:92});}return()=>clearInterval(interval);},[scenario,isBlackSky,isOmega,isSurvivalIV]);const handleExit=()=>{if(onExit)onExit();window.close();// Force close attempt\n};// Determine critical state for Survival IV\nconst isSurvivalCritical=isSurvivalIV&&Object.values(survivalMetrics).some(v=>v<30);return/*#__PURE__*/_jsxs(\"div\",{className:getContainerClass(),children:[isOmega&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',inset:0,pointerEvents:'none',background:'repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255, 0, 0, 0.1) 4px)',animation:'glitch 0.1s infinite'}}),/*#__PURE__*/_jsxs(\"header\",{className:\"war-header\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px'},children:[/*#__PURE__*/_jsx(Shield,{size:42,strokeWidth:1.5}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-title\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"GLOBAL WAR ROOM\"}),/*#__PURE__*/_jsx(\"small\",{style:{letterSpacing:'2px',opacity:0.8},children:\"STRATEGIC COMMAND // UN LEVEL CLEARANCE\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"defcon-display\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"DEFCON\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:defconLevel===1?'red':defconLevel===3?'orange':'inherit'},children:defconLevel})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'24px'},children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"nav-links\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:4000/WEB_PLATFORM/\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"nav-link\",children:\"CMD CENTER\"}),/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:3000\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"nav-link\",children:\"STRAT HUB\"}),/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:3007\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"nav-link\",children:\"SPEC DOME\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExit,className:\"btn-exit\",children:\"EXIT SYSTEM\"})]})]}),/*#__PURE__*/_jsxs(\"aside\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"panel-title\",children:\"SCENARIO INJECTION\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setScenario('MONITORING');setDefconLevel(5);},className:\"scenario-btn \".concat(scenario==='MONITORING'?'active':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn-content\",children:[/*#__PURE__*/_jsx(Activity,{size:20}),\" MONITORING\"]}),/*#__PURE__*/_jsx(\"small\",{children:\"Standard Global Surveillance\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setScenario('BLACK_SKY');setDefconLevel(3);},className:\"scenario-btn \".concat(scenario==='BLACK_SKY'?'active':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn-content\",children:[/*#__PURE__*/_jsx(Power,{size:20}),\" BLACK SKY\"]}),/*#__PURE__*/_jsx(\"small\",{children:\"Grid Collapse / Zero Energy\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setScenario('EMP_OMEGA');setDefconLevel(1);},className:\"scenario-btn \".concat(scenario==='EMP_OMEGA'?'active':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn-content\",children:[/*#__PURE__*/_jsx(Skull,{size:20}),\" OMEGA EVENT\"]}),/*#__PURE__*/_jsx(\"small\",{children:\"Total Infrastructure Loss\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setScenario('SURVIVAL_IV');setDefconLevel(2);},className:\"scenario-btn \".concat(scenario==='SURVIVAL_IV'?'active':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn-content\",children:[/*#__PURE__*/_jsx(Activity,{size:20}),\" EMULATOR IV\"]}),/*#__PURE__*/_jsx(\"small\",{children:\"Global Survival Engine\"})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-display\",children:[isSurvivalIV?/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',inset:0,background:'rgba(0,0,0,0.8)',zIndex:10,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',gap:'30px'},children:[/*#__PURE__*/_jsx(SurvivalEngineVisual,{isGlobalCrisis:isSurvivalCritical}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'20px',width:'600px'},children:Object.entries(survivalMetrics).map(_ref3=>{let[key,value]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(255,255,255,0.05)',padding:'15px',border:'1px solid #333'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'10px',textTransform:'uppercase'},children:[/*#__PURE__*/_jsx(\"span\",{children:key}),/*#__PURE__*/_jsxs(\"span\",{style:{color:value<30?'#ef4444':'#0ea5e9'},children:[value.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'10px',background:'#111'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"\".concat(value,\"%\"),height:'100%',background:value<30?'#ef4444':'#0ea5e9',boxShadow:\"0 0 10px \".concat(value<30?'#ef4444':'#0ea5e9')}})})]},key);})})]}):/*#__PURE__*//* GLOBAL MAP GRID (Standard View) */_jsxs(\"div\",{className:\"map-grid\",style:{'--map-bg':\"url(\".concat(worldMapBg,\")\")},children:[regions.map(region=>/*#__PURE__*/_jsxs(\"div\",{className:\"map-node \".concat(region.status==='ONLINE'?'status-online':''),style:{left:\"\".concat(region.x,\"%\"),top:\"\".concat(region.y,\"%\"),opacity:region.status==='OFFLINE'?0.3:1,filter:region.status==='CORRUPTED'?'blur(4px)':'none'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"node-label\",children:[region.name,/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.6rem',color:region.status==='ONLINE'?'#10b981':'red'},children:[\"[\",region.status,\"]\"]})]})]},region.id)),/*#__PURE__*/_jsxs(\"svg\",{style:{position:'absolute',inset:0,width:'100%',height:'100%',pointerEvents:'none',opacity:0.3},children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"filter\",{id:\"glow\",children:[/*#__PURE__*/_jsx(\"feGaussianBlur\",{stdDeviation:\"2\",result:\"coloredBlur\"}),/*#__PURE__*/_jsxs(\"feMerge\",{children:[/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"coloredBlur\"}),/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"SourceGraphic\"})]})]})}),/*#__PURE__*/_jsx(\"path\",{d:\"M 250 150 L 520 125 L 750 175 L 850 375\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",filter:\"url(#glow)\",strokeDasharray:\"5,5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M 250 150 L 350 350\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",filter:\"url(#glow)\",strokeDasharray:\"5,5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M 520 125 L 500 275\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",filter:\"url(#glow)\",strokeDasharray:\"5,5\"})]})]}),(isBlackSky||isOmega)&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert-overlay\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"alert-title\",children:isOmega?'FATAL ERROR':'GRID DOWN'}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-message\",children:isOmega?'DATA CORRUPTION DETECTED - SYSTEM PURGE IMMINENT':'CRITICAL INFRASTRUCTURE FAILURE - CASCADING BLACKOUT'}),isOmega&&/*#__PURE__*/_jsx(Skull,{size:100,style:{marginTop:'30px',animation:'glitch 0.2s infinite'}}),isBlackSky&&/*#__PURE__*/_jsx(Power,{size:100,style:{marginTop:'30px',opacity:0.5}})]})]}),/*#__PURE__*/_jsxs(\"aside\",{className:\"sidebar sidebar-right\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"panel-title\",children:\"GLOBAL TELEMETRY\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-container\",children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"GRID STABILITY\"}),/*#__PURE__*/_jsxs(\"span\",{children:[gridStatus.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-bar-bg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"metric-bar-fill\",style:{width:\"\".concat(gridStatus,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-container\",children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"COMMS UPTIME\"}),/*#__PURE__*/_jsxs(\"span\",{children:[commsIntegrity.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-bar-bg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"metric-bar-fill\",style:{width:\"\".concat(commsIntegrity,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-container\",children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"CIVIL UNREST\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:globalPanic>50?'red':'inherit'},children:[globalPanic.toFixed(0),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-bar-bg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"metric-bar-fill\",style:{width:\"\".concat(globalPanic,\"%\"),background:globalPanic>50?'red':'currentColor'}})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'auto',borderTop:'1px solid currentColor',paddingTop:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'center',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(AlertTriangle,{size:20}),\" SYSTEM ALERTS\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.8rem',opacity:0.8,lineHeight:'1.5'},children:[\"> NO THREATS DETECTED IN SECTOR 7G\",/*#__PURE__*/_jsx(\"br\",{}),\"> SATELLITE UPLINK STABLE\",/*#__PURE__*/_jsx(\"br\",{}),\"> FIREWALL INTEGRITY: 98.4%\"]})]})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"war-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"SESSION ID: \",Math.random().toString(36).substr(2,9).toUpperCase()]}),/*#__PURE__*/_jsx(\"div\",{children:\"AUTHORIZED PERSONNEL ONLY\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'5px'},children:[/*#__PURE__*/_jsx(Lock,{size:14}),\" ENCRYPTED CONNECTION\"]})]})]});};export default GlobalWarRoom;","map":{"version":3,"names":["React","useState","useEffect","Shield","Activity","Power","Skull","AlertTriangle","Lock","worldMapBg","jsx","_jsx","jsxs","_jsxs","SurvivalEngineVisual","_ref","isGlobalCrisis","className","concat","children","style","position","top","left","transform","textAlign","zIndex","textShadow","fontSize","fontWeight","color","letterSpacing","opacity","GlobalWarRoom","_ref2","onExit","defconLevel","setDefconLevel","scenario","setScenario","isBlackSky","isOmega","isSurvivalIV","getContainerClass","gridStatus","setGridStatus","commsIntegrity","setCommsIntegrity","globalPanic","setGlobalPanic","survivalMetrics","setSurvivalMetrics","agua","energia","transporte","defensa","regions","setRegions","id","name","status","x","y","interval","failureStep","setInterval","prev","map","r","i","_objectSpread","Math","max","min","random","clearInterval","handleExit","window","close","isSurvivalCritical","Object","values","some","v","inset","pointerEvents","background","animation","display","alignItems","gap","size","strokeWidth","href","target","rel","onClick","flexDirection","justifyContent","gridTemplateColumns","width","entries","_ref3","key","value","padding","border","marginBottom","textTransform","toFixed","height","boxShadow","region","filter","stdDeviation","result","in","d","fill","stroke","strokeDasharray","marginTop","borderTop","paddingTop","lineHeight","toString","substr","toUpperCase"],"sources":["J:/CyberSentinel-AI-Academy/cybersentinel-global-war-room/src/components/GlobalWarRoom/GlobalWarRoom.jsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport { Shield, Activity, Power, Skull, AlertTriangle, Lock } from 'lucide-react';\nimport worldMapBg from '../../assets/world-map-bg.png';\nimport './GlobalWarRoom.css';\n\n// Componente Visual de Motor de Supervivencia (Holograma)\nconst SurvivalEngineVisual = ({ isGlobalCrisis }) => {\n  return (\n    <div className={`globe-wrapper ${isGlobalCrisis ? 'crisis-active' : ''}`}>\n      <div className=\"globe-core\"></div>\n      <div className=\"orbit-ring ring-1\"></div>\n      <div className=\"orbit-ring ring-2\"></div>\n      <div className=\"orbit-ring ring-3\"></div>\n      \n      {/* HUD Overlay */}\n      <div style={{\n        position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)',\n        textAlign: 'center', zIndex: 10, textShadow: '0 0 10px black'\n      }}>\n        <div style={{ fontSize: '3rem', fontWeight: 'bold', color: isGlobalCrisis ? '#ef4444' : '#0ea5e9' }}>\n          {isGlobalCrisis ? 'CRITICAL' : 'OPTIMAL'}\n        </div>\n        <div style={{ fontSize: '0.8rem', letterSpacing: '2px', opacity: 0.8 }}>\n          SURVIVAL ENGINE STATUS\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst GlobalWarRoom = ({ onExit }) => {\n  const [defconLevel, setDefconLevel] = useState(5); // 5=Normal, 1=Nuclear\n  const [scenario, setScenario] = useState('MONITORING'); // MONITORING, BLACK_SKY, EMP_OMEGA, SURVIVAL_IV\n  \n  // Efectos visuales derivados\n  const isBlackSky = scenario === 'BLACK_SKY';\n  const isOmega = scenario === 'EMP_OMEGA';\n  const isSurvivalIV = scenario === 'SURVIVAL_IV';\n\n  // Determine container class based on mode\n  const getContainerClass = () => {\n    if (isBlackSky) return 'war-room-container mode-black-sky scanlines';\n    if (isOmega) return 'war-room-container mode-omega scanlines';\n    if (isSurvivalIV) return 'war-room-container mode-survival scanlines';\n    return 'war-room-container scanlines';\n  };\n\n  // Simulación de datos globales\n  const [gridStatus, setGridStatus] = useState(100);\n  const [commsIntegrity, setCommsIntegrity] = useState(100);\n  const [globalPanic, setGlobalPanic] = useState(12);\n\n  // Nuevas métricas para Emulator IV\n  const [survivalMetrics, setSurvivalMetrics] = useState({\n    agua: 98,\n    energia: 96,\n    transporte: 88,\n    defensa: 92\n  });\n\n  // Estados de Regiones para visualización detallada\n  const [regions, setRegions] = useState([\n    { id: 'NA', name: 'NORTH AMERICA', status: 'ONLINE', x: 25, y: 30 },\n    { id: 'SA', name: 'SOUTH AMERICA', status: 'ONLINE', x: 35, y: 70 },\n    { id: 'EU', name: 'EUROPE', status: 'ONLINE', x: 52, y: 25 },\n    { id: 'AF', name: 'AFRICA', status: 'ONLINE', x: 50, y: 55 },\n    { id: 'AS', name: 'ASIA', status: 'ONLINE', x: 75, y: 35 },\n    { id: 'OC', name: 'OCEANIA', status: 'ONLINE', x: 85, y: 75 },\n    { id: 'AN', name: 'ANTARCTICA', status: 'ONLINE', x: 50, y: 90 },\n  ]);\n\n  useEffect(() => {\n    let interval;\n    if (isBlackSky) {\n      // Secuencia de apagón en cascada (Black Sky)\n      let failureStep = 0;\n      interval = setInterval(() => {\n        setRegions(prev => prev.map((r, i) => {\n           // Apagar una región cada 2 segundos\n           if (i <= failureStep) return { ...r, status: 'OFFLINE' };\n           return r;\n        }));\n        \n        failureStep++;\n\n        setGridStatus(prev => Math.max(0, prev - 15)); // Caída rápida\n        setCommsIntegrity(prev => Math.max(0, prev - 5));\n        setGlobalPanic(prev => Math.min(100, prev + 10)); // Pánico sube rápido\n      }, 1500);\n    } else if (isOmega) {\n      // Fallo inmediato y corrupción (Omega)\n      setRegions(prev => prev.map(r => ({ ...r, status: 'CORRUPTED' })));\n      setGridStatus(0);\n      setCommsIntegrity(0);\n      setGlobalPanic(100);\n    } else if (isSurvivalIV) {\n      // Modo Supervivencia: Degradación de métricas específicas\n      interval = setInterval(() => {\n        setSurvivalMetrics(prev => ({\n          agua: Math.max(0, prev.agua - (Math.random() * 5 + 2)),\n          energia: Math.max(0, prev.energia - (Math.random() * 8 + 3)),\n          transporte: Math.max(0, prev.transporte - (Math.random() * 6 + 2)),\n          defensa: Math.max(0, prev.defensa - (Math.random() * 4 + 1)),\n        }));\n        setGlobalPanic(prev => Math.min(100, prev + 5));\n      }, 800);\n    } else {\n      // Recovery\n      setRegions(prev => prev.map(r => ({ ...r, status: 'ONLINE' })));\n      setGridStatus(prev => Math.min(100, prev + 5));\n      setCommsIntegrity(prev => Math.min(100, prev + 5));\n      setGlobalPanic(prev => Math.max(12, prev - 2));\n      setSurvivalMetrics({\n        agua: 98,\n        energia: 96,\n        transporte: 88,\n        defensa: 92\n      });\n    }\n    return () => clearInterval(interval);\n  }, [scenario, isBlackSky, isOmega, isSurvivalIV]);\n\n  const handleExit = () => {\n    if (onExit) onExit();\n    window.close(); // Force close attempt\n  };\n\n  // Determine critical state for Survival IV\n  const isSurvivalCritical = isSurvivalIV && Object.values(survivalMetrics).some(v => v < 30);\n\n  return (\n    <div className={getContainerClass()}>\n      \n      {/* GLITCH OVERLAY FOR OMEGA */}\n      {isOmega && (\n        <div style={{\n          position: 'absolute', inset: 0, pointerEvents: 'none',\n          background: 'repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255, 0, 0, 0.1) 4px)',\n          animation: 'glitch 0.1s infinite'\n        }} />\n      )}\n\n      {/* HEADER */}\n      <header className=\"war-header\">\n        <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n          <Shield size={42} strokeWidth={1.5} />\n          <div className=\"header-title\">\n            <h1>GLOBAL WAR ROOM</h1>\n            <small style={{ letterSpacing: '2px', opacity: 0.8 }}>STRATEGIC COMMAND // UN LEVEL CLEARANCE</small>\n          </div>\n        </div>\n        \n        <div className=\"defcon-display\">\n          <span>DEFCON</span>\n          <span style={{ color: defconLevel === 1 ? 'red' : defconLevel === 3 ? 'orange' : 'inherit' }}>\n            {defconLevel}\n          </span>\n        </div>\n\n        <div style={{ display: 'flex', alignItems: 'center', gap: '24px' }}>\n          <nav className=\"nav-links\">\n             <a href=\"http://localhost:4000/WEB_PLATFORM/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"nav-link\">CMD CENTER</a>\n             <a href=\"http://localhost:3000\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"nav-link\">STRAT HUB</a>\n             <a href=\"http://localhost:3007\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"nav-link\">SPEC DOME</a>\n          </nav>\n          <button onClick={handleExit} className=\"btn-exit\">\n            EXIT SYSTEM\n          </button>\n        </div>\n      </header>\n\n      {/* LEFT PANEL: THREAT SELECTOR */}\n      <aside className=\"sidebar\">\n        <h2 className=\"panel-title\">SCENARIO INJECTION</h2>\n        \n        <button \n          onClick={() => { setScenario('MONITORING'); setDefconLevel(5); }}\n          className={`scenario-btn ${scenario === 'MONITORING' ? 'active' : ''}`}\n        >\n          <div className=\"btn-content\">\n            <Activity size={20} /> MONITORING\n          </div>\n          <small>Standard Global Surveillance</small>\n        </button>\n\n        <button \n          onClick={() => { setScenario('BLACK_SKY'); setDefconLevel(3); }}\n          className={`scenario-btn ${scenario === 'BLACK_SKY' ? 'active' : ''}`}\n        >\n          <div className=\"btn-content\">\n            <Power size={20} /> BLACK SKY\n          </div>\n          <small>Grid Collapse / Zero Energy</small>\n        </button>\n\n        <button \n          onClick={() => { setScenario('EMP_OMEGA'); setDefconLevel(1); }}\n          className={`scenario-btn ${scenario === 'EMP_OMEGA' ? 'active' : ''}`}\n        >\n          <div className=\"btn-content\">\n            <Skull size={20} /> OMEGA EVENT\n          </div>\n          <small>Total Infrastructure Loss</small>\n        </button>\n\n        <button \n          onClick={() => { setScenario('SURVIVAL_IV'); setDefconLevel(2); }}\n          className={`scenario-btn ${scenario === 'SURVIVAL_IV' ? 'active' : ''}`}\n        >\n          <div className=\"btn-content\">\n            <Activity size={20} /> EMULATOR IV\n          </div>\n          <small>Global Survival Engine</small>\n        </button>\n      </aside>\n\n      {/* CENTER: MAIN VISUALIZATION */}\n      <main className=\"main-display\">\n        \n        {/* SURVIVAL ENGINE OVERLAY */}\n        {isSurvivalIV ? (\n          <div style={{\n            position: 'absolute', inset: 0, background: 'rgba(0,0,0,0.8)', zIndex: 10,\n            display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center',\n            gap: '30px'\n          }}>\n             <SurvivalEngineVisual isGlobalCrisis={isSurvivalCritical} />\n             \n             {/* Survival Metrics Grid */}\n             <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', width: '600px' }}>\n                {Object.entries(survivalMetrics).map(([key, value]) => (\n                  <div key={key} style={{ background: 'rgba(255,255,255,0.05)', padding: '15px', border: '1px solid #333' }}>\n                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '10px', textTransform: 'uppercase' }}>\n                      <span>{key}</span>\n                      <span style={{ color: value < 30 ? '#ef4444' : '#0ea5e9' }}>{value.toFixed(1)}%</span>\n                    </div>\n                    <div style={{ width: '100%', height: '10px', background: '#111' }}>\n                      <div style={{ \n                        width: `${value}%`, height: '100%', \n                        background: value < 30 ? '#ef4444' : '#0ea5e9',\n                        boxShadow: `0 0 10px ${value < 30 ? '#ef4444' : '#0ea5e9'}`\n                      }} />\n                    </div>\n                  </div>\n                ))}\n             </div>\n          </div>\n        ) : (\n          /* GLOBAL MAP GRID (Standard View) */\n          <div className=\"map-grid\" style={{ '--map-bg': `url(${worldMapBg})` }}>\n             {/* REGION NODES */}\n             {regions.map((region) => (\n               <div key={region.id} className={`map-node ${region.status === 'ONLINE' ? 'status-online' : ''}`} style={{\n                 left: `${region.x}%`,\n                 top: `${region.y}%`,\n                 opacity: region.status === 'OFFLINE' ? 0.3 : 1,\n                 filter: region.status === 'CORRUPTED' ? 'blur(4px)' : 'none'\n               }}>\n                 <div className=\"node-icon\" />\n                 <div className=\"node-label\">\n                   {region.name}\n                   <div style={{ fontSize: '0.6rem', color: region.status === 'ONLINE' ? '#10b981' : 'red' }}>\n                     [{region.status}]\n                   </div>\n                 </div>\n               </div>\n             ))}\n\n             {/* CONNECTIVITY LINES (SVG Overlay) */}\n             <svg style={{ position: 'absolute', inset: 0, width: '100%', height: '100%', pointerEvents: 'none', opacity: 0.3 }}>\n               <defs>\n                 <filter id=\"glow\">\n                   <feGaussianBlur stdDeviation=\"2\" result=\"coloredBlur\"/>\n                   <feMerge>\n                     <feMergeNode in=\"coloredBlur\"/>\n                     <feMergeNode in=\"SourceGraphic\"/>\n                   </feMerge>\n                 </filter>\n               </defs>\n               <path d=\"M 250 150 L 520 125 L 750 175 L 850 375\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" filter=\"url(#glow)\" strokeDasharray=\"5,5\" />\n               <path d=\"M 250 150 L 350 350\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" filter=\"url(#glow)\" strokeDasharray=\"5,5\" />\n               <path d=\"M 520 125 L 500 275\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" filter=\"url(#glow)\" strokeDasharray=\"5,5\" />\n             </svg>\n          </div>\n        )}\n\n        {/* CENTER ALERT OVERLAY (For Standard Modes) */}\n        {(isBlackSky || isOmega) && (\n          <div className=\"alert-overlay\">\n            <h1 className=\"alert-title\">\n              {isOmega ? 'FATAL ERROR' : 'GRID DOWN'}\n            </h1>\n            <div className=\"alert-message\">\n              {isOmega ? 'DATA CORRUPTION DETECTED - SYSTEM PURGE IMMINENT' : 'CRITICAL INFRASTRUCTURE FAILURE - CASCADING BLACKOUT'}\n            </div>\n            {isOmega && <Skull size={100} style={{ marginTop: '30px', animation: 'glitch 0.2s infinite' }} />}\n            {isBlackSky && <Power size={100} style={{ marginTop: '30px', opacity: 0.5 }} />}\n          </div>\n        )}\n      </main>\n\n      {/* RIGHT PANEL: TELEMETRY */}\n      <aside className=\"sidebar sidebar-right\">\n        <h2 className=\"panel-title\">GLOBAL TELEMETRY</h2>\n        \n        <div className=\"metric-container\">\n          <label style={{ display: 'flex', justifyContent: 'space-between' }}>\n            <span>GRID STABILITY</span>\n            <span>{gridStatus.toFixed(1)}%</span>\n          </label>\n          <div className=\"metric-bar-bg\">\n            <div className=\"metric-bar-fill\" style={{ width: `${gridStatus}%` }} />\n          </div>\n        </div>\n\n        <div className=\"metric-container\">\n          <label style={{ display: 'flex', justifyContent: 'space-between' }}>\n            <span>COMMS UPTIME</span>\n            <span>{commsIntegrity.toFixed(1)}%</span>\n          </label>\n          <div className=\"metric-bar-bg\">\n            <div className=\"metric-bar-fill\" style={{ width: `${commsIntegrity}%` }} />\n          </div>\n        </div>\n\n        <div className=\"metric-container\">\n          <label style={{ display: 'flex', justifyContent: 'space-between' }}>\n            <span>CIVIL UNREST</span>\n            <span style={{ color: globalPanic > 50 ? 'red' : 'inherit' }}>{globalPanic.toFixed(0)}%</span>\n          </label>\n          <div className=\"metric-bar-bg\">\n            <div className=\"metric-bar-fill\" style={{ \n              width: `${globalPanic}%`, \n              background: globalPanic > 50 ? 'red' : 'currentColor' \n            }} />\n          </div>\n        </div>\n\n        <div style={{ marginTop: 'auto', borderTop: '1px solid currentColor', paddingTop: '20px' }}>\n          <div style={{ display: 'flex', gap: '10px', alignItems: 'center', marginBottom: '10px' }}>\n            <AlertTriangle size={20} /> SYSTEM ALERTS\n          </div>\n          <div style={{ fontSize: '0.8rem', opacity: 0.8, lineHeight: '1.5' }}>\n            > NO THREATS DETECTED IN SECTOR 7G<br/>\n            > SATELLITE UPLINK STABLE<br/>\n            > FIREWALL INTEGRITY: 98.4%\n          </div>\n        </div>\n      </aside>\n\n      {/* FOOTER */}\n      <footer className=\"war-footer\">\n        <div>SESSION ID: {Math.random().toString(36).substr(2, 9).toUpperCase()}</div>\n        <div>AUTHORIZED PERSONNEL ONLY</div>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '5px' }}>\n          <Lock size={14} /> ENCRYPTED CONNECTION\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default GlobalWarRoom;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}